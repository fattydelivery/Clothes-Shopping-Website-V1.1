package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class intel_005fechart_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final JspFactory _jspxFactory = JspFactory.getDefaultFactory();

  private static java.util.List<String> _jspx_dependants;

  private org.glassfish.jsp.api.ResourceInjector _jspx_resourceInjector;

  public java.util.List<String> getDependants() {
    return _jspx_dependants;
  }

  public void _jspService(HttpServletRequest request, HttpServletResponse response)
        throws java.io.IOException, ServletException {

    PageContext pageContext = null;
    HttpSession session = null;
    ServletContext application = null;
    ServletConfig config = null;
    JspWriter out = null;
    Object page = this;
    JspWriter _jspx_out = null;
    PageContext _jspx_page_context = null;

    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;
      _jspx_resourceInjector = (org.glassfish.jsp.api.ResourceInjector) application.getAttribute("com.sun.appserv.jsp.resource.injector");

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("    <head>\r\n");
      out.write("        <meta charset=\"utf-8\">\r\n");
      out.write("        <!-- 引入 ECharts 文件 -->\r\n");
      out.write("        <script src=\"https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js\"></script>\r\n");
      out.write("        <script type=\"text/javascript\" src=\"http://libs.baidu.com/jquery/1.11.1/jquery.min.js\"></script>\r\n");
      out.write("        <title>Fatty delivery！</title>\r\n");
      out.write("    </head>\r\n");
      out.write("    <body style=\"text-align: center; min-height: 100%;\">\r\n");
      out.write("        <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->\r\n");
      out.write("        <div id=\"d1\" style=\"width: 800px;height:400px; margin: 0 auto;\"></div>\r\n");
      out.write("        <div id=\"d2\" style=\"width: 800px;height:400px; margin: 0 auto;\"></div>\r\n");
      out.write("        <div id=\"d3\" style=\"width: 800px;height:50px; margin: 0 auto;\"></div>\r\n");
      out.write("        <div style=\"width: 800px;height:400px; margin: 0 auto;\">\r\n");
      out.write("            <div id=\"item0\" style=\"width: 30%;height:200px; float:left;margin: 0 auto;\"></div>\r\n");
      out.write("            <div id=\"item1\" style=\"width: 30%;height:200px; float:left;margin: 0 auto;\"></div>\r\n");
      out.write("            <div id=\"item2\" style=\"width: 30%;height:200px; float:left;margin: 0 auto;\"></div>\r\n");
      out.write("            <div id=\"item3\" style=\"width: 30%;height:200px; float:left;margin: 0 auto;\"></div>\r\n");
      out.write("            <div id=\"item4\" style=\"width: 30%;height:200px; float:left;margin: 0 auto;\"></div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div id=\"d4\" style=\"width: 1000px;height:400px; margin: 0 auto;\"></div>\r\n");
      out.write("        <script type=\"text/javascript\">\r\n");
      out.write("            var myChart1 = echarts.init(document.getElementById('d1'));\r\n");
      out.write("            var myChart2 = echarts.init(document.getElementById('d2'));\r\n");
      out.write("            var myChart3 = echarts.init(document.getElementById('d3'));\r\n");
      out.write("            var myChart4 = echarts.init(document.getElementById('d4'));\r\n");
      out.write("\r\n");
      out.write("            myChart1.setOption({\r\n");
      out.write("                title: {\r\n");
      out.write("                    text: 'Web log hits',\r\n");
      out.write("                    subtext: 'Real-time data',\r\n");
      out.write("                    left: 'center'\r\n");
      out.write("                },\r\n");
      out.write("                xAxis: {\r\n");
      out.write("                    data: []\r\n");
      out.write("                },\r\n");
      out.write("                yAxis: {\r\n");
      out.write("                },\r\n");
      out.write("                series: [{\r\n");
      out.write("                        name: 'Web log hits',\r\n");
      out.write("                        type: 'bar',\r\n");
      out.write("                        data: [],\r\n");
      out.write("                        showBackground: true,\r\n");
      out.write("                        backgroundStyle: {\r\n");
      out.write("                            color: 'rgba(180, 220, 200, 0.8)'\r\n");
      out.write("                        }\r\n");
      out.write("                    }]\r\n");
      out.write("            });\r\n");
      out.write("\r\n");
      out.write("            myChart2.setOption({\r\n");
      out.write("                title: {\r\n");
      out.write("                    text: 'Web log sales',\r\n");
      out.write("                    subtext: 'Real-time data',\r\n");
      out.write("                    left: 'center'\r\n");
      out.write("                },\r\n");
      out.write("                xAxis: {\r\n");
      out.write("                    data: []\r\n");
      out.write("                },\r\n");
      out.write("                yAxis: {\r\n");
      out.write("                },\r\n");
      out.write("                series: [{\r\n");
      out.write("                        name: 'Web log sales',\r\n");
      out.write("                        type: 'bar',\r\n");
      out.write("                        data: [],\r\n");
      out.write("                        showBackground: true,\r\n");
      out.write("                        backgroundStyle: {\r\n");
      out.write("                            color: 'rgba(180, 220, 200, 0.8)'\r\n");
      out.write("                        }\r\n");
      out.write("                    }]\r\n");
      out.write("            });\r\n");
      out.write("\r\n");
      out.write("            myChart3.setOption(option = {\r\n");
      out.write("                title: {\r\n");
      out.write("                    text: 'Weblog purchase rate',\r\n");
      out.write("                    subtext: 'Real-time data',\r\n");
      out.write("                    left: 'center'\r\n");
      out.write("                }});\r\n");
      out.write("\r\n");
      out.write("            myChart4.setOption({\r\n");
      out.write("                title: {\r\n");
      out.write("                    text: 'Web log combine sales',\r\n");
      out.write("                    subtext: 'Real-time data',\r\n");
      out.write("                    left: 'center'\r\n");
      out.write("                },\r\n");
      out.write("                xAxis: {\r\n");
      out.write("                    data: []\r\n");
      out.write("                },\r\n");
      out.write("                yAxis: {\r\n");
      out.write("                },\r\n");
      out.write("                series: [{\r\n");
      out.write("                        name: 'Web log combine sales',\r\n");
      out.write("                        type: 'bar',\r\n");
      out.write("                        data: [],\r\n");
      out.write("                        showBackground: true,\r\n");
      out.write("                        backgroundStyle: {\r\n");
      out.write("                            color: 'rgba(180, 220, 200, 0.8)'\r\n");
      out.write("                        }\r\n");
      out.write("                    }]\r\n");
      out.write("            });\r\n");
      out.write("\r\n");
      out.write("            var names1 = []; //建立一个类别数组（实际用来盛放X轴坐标值）\r\n");
      out.write("            var nums1 = []; //建立一个数量数组（实际用来盛放Y坐标值）\r\n");
      out.write("            var names2 = []; //建立一个类别数组（实际用来盛放X轴坐标值）\r\n");
      out.write("            var nums2 = []; //建立一个数量数组（实际用来盛放Y坐标值）\r\n");
      out.write("            var names3 = []; //建立一个类别数组（实际用来盛放X轴坐标值）\r\n");
      out.write("            var nums3 = []; //建立一个数量数组（实际用来盛放Y坐标值）\r\n");
      out.write("            var names4 = []; //建立一个类别数组（实际用来盛放X轴坐标值）\r\n");
      out.write("            var nums4 = []; //建立一个数量数组（实际用来盛放Y坐标值）\r\n");
      out.write("            $.ajax({\r\n");
      out.write("                type: \"post\",\r\n");
      out.write("                async: true, //异步请求（同步请求将会锁住浏览器，其他操作须等请求完成才可执行）\r\n");
      out.write("                url: \"TestServlet\", //请求发送到TestServlet\r\n");
      out.write("                data: {\r\n");
      out.write("                    \"table\": \"Intel\" // Person\r\n");
      out.write("                },\r\n");
      out.write("                dataType: \"json\", //返回数据形式为json\r\n");
      out.write("\r\n");
      out.write("                //请求成功后接收数据name+num两组数据\r\n");
      out.write("                success: function (result) {\r\n");
      out.write("                    //result为服务器返回的json对象\r\n");
      out.write("                    console.log(result);\r\n");
      out.write("                    if (result) {\r\n");
      out.write("                        console.log(result);\r\n");
      out.write("                        //取出数据存入数组\r\n");
      out.write("                        for (var i = 0; i < 5; i++) {\r\n");
      out.write("                            names1.push(result[i].name); //迭代取出类别数据并填入类别数组\r\n");
      out.write("                        }\r\n");
      out.write("                        for (var i = 0; i < 5; i++) {\r\n");
      out.write("                            nums1.push(result[i].num); //迭代取出销量并填入销量数组\r\n");
      out.write("                        }\r\n");
      out.write("                        myChart1.setOption({\r\n");
      out.write("                            xAxis: {\r\n");
      out.write("                                data: names1\r\n");
      out.write("                            },\r\n");
      out.write("                            series: [{\r\n");
      out.write("                                    // 根据名字对应到相应的数据\r\n");
      out.write("                                    data: nums1\r\n");
      out.write("                                }]\r\n");
      out.write("                        });\r\n");
      out.write("\r\n");
      out.write("                        for (var i = 5; i < 10; i++) {\r\n");
      out.write("                            names2.push(result[i].name); //迭代取出类别数据并填入类别数组\r\n");
      out.write("                        }\r\n");
      out.write("                        for (var i = 5; i < 10; i++) {\r\n");
      out.write("                            nums2.push(result[i].num); //迭代取出销量并填入销量数组\r\n");
      out.write("                        }\r\n");
      out.write("                        myChart2.setOption({\r\n");
      out.write("                            xAxis: {\r\n");
      out.write("                                data: names2\r\n");
      out.write("                            },\r\n");
      out.write("                            series: [{\r\n");
      out.write("                                    // 根据名字对应到相应的数据\r\n");
      out.write("                                    data: nums2\r\n");
      out.write("                                }]\r\n");
      out.write("                        });\r\n");
      out.write("                        for (var i = 10; i < 15; i++) {\r\n");
      out.write("                            names3.push(result[i].name); //迭代取出类别数据并填入类别数组\r\n");
      out.write("                        }\r\n");
      out.write("                        for (var i = 10; i < 15; i++) {\r\n");
      out.write("                            nums3.push(result[i].num); //迭代取出销量并填入销量数组\r\n");
      out.write("                        }\r\n");
      out.write("                        function drawPie(a, tit) {\r\n");
      out.write("                            var option = {\r\n");
      out.write("                                title: {\r\n");
      out.write("                                    text: tit,\r\n");
      out.write("                                    x: 'center',\r\n");
      out.write("                                    y: 'bottom'\r\n");
      out.write("                                },\r\n");
      out.write("                                series: [{\r\n");
      out.write("                                        name: 'haha',\r\n");
      out.write("                                        type: 'pie',\r\n");
      out.write("                                        radius: '55%',\r\n");
      out.write("                                        roseType: 'angle',\r\n");
      out.write("                                        data: [\r\n");
      out.write("                                            {value: a, name: 'Buy'},\r\n");
      out.write("                                            {value: 100 - a, name: 'Just click'}\r\n");
      out.write("                                        ]\r\n");
      out.write("                                    }]};\r\n");
      out.write("                            return option;\r\n");
      out.write("                        }\r\n");
      out.write("                        console.log(names3, nums3);\r\n");
      out.write("                        for (var i = 0; i < 5; i++) {\r\n");
      out.write("                            console.log('item' + i.toString());\r\n");
      out.write("                            var eid = 'item' + i.toString();\r\n");
      out.write("                            myChart = echarts.init(document.getElementById(eid));\r\n");
      out.write("                            console.log(nums3[i], names3[i]);\r\n");
      out.write("                            myChart.setOption(drawPie(nums3[i]*100, names3[i]));\r\n");
      out.write("                        }\r\n");
      out.write("                        /*\r\n");
      out.write("                         for (var i = 0; i < result.length; i++) {\r\n");
      out.write("                         names.push(result[i].name); //迭代取出类别数据并填入类别数组\r\n");
      out.write("                         }\r\n");
      out.write("                         for (var i = 0; i < result.length; i++) {\r\n");
      out.write("                         nums.push(result[i].num); //迭代取出销量并填入销量数组\r\n");
      out.write("                         }\r\n");
      out.write("                         */\r\n");
      out.write("\r\n");
      out.write("                        // myChart.hideLoading(); //隐藏加载动画\r\n");
      out.write("\r\n");
      out.write("                        //覆盖操作-根据数据加载数据图表\r\n");
      out.write("                        for (var i = 15; i < 20; i++) {\r\n");
      out.write("                            names4.push(result[i].name); //迭代取出类别数据并填入类别数组\r\n");
      out.write("                        }\r\n");
      out.write("                        for (var i = 15; i < 20; i++) {\r\n");
      out.write("                            nums4.push(result[i].num); //迭代取出销量并填入销量数组\r\n");
      out.write("                        }\r\n");
      out.write("                        myChart4.setOption({\r\n");
      out.write("                            xAxis: {\r\n");
      out.write("                                data: names4\r\n");
      out.write("                            },\r\n");
      out.write("                            series: [{\r\n");
      out.write("                                    // 根据名字对应到相应的数据\r\n");
      out.write("                                    data: nums4\r\n");
      out.write("                                }]\r\n");
      out.write("                        });\r\n");
      out.write("\r\n");
      out.write("                    }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                }\r\n");
      out.write("                ,\r\n");
      out.write("                error: function (errorMsg) {\r\n");
      out.write("                    //请求失败时执行该函数\r\n");
      out.write("                    alert(\"图表请求数据失败!\");\r\n");
      out.write("                    // myChart.hideLoading();\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("            );\r\n");
      out.write("        </script>\r\n");
      out.write("    </body>\r\n");
      out.write("</html>\r\n");
      out.write("\r\n");
      out.write("\r\n");
    } catch (Throwable t) {
      if (!(t instanceof SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          out.clearBuffer();
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
